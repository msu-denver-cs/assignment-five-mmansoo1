<html lang="EN">

<button onclick="fetch('cars', ['model', 'make_id'])">Cars</button>
<button onclick="fetch('makes', ['make'])">Makes</button>
<button onclick="fetch('parts', ['part'])">Parts</button>

<div id="list">
</div>

<script>
    var fetch = function(json, id) {

        let request = new XMLHttpRequest();
        var url = "http://localhost:3000/" + json + ".json";
        request.onreadystatechange = function() {
            if (request.readyState === 4 && request.status === 200) {
                var arrayOfItems = JSON.parse(request.responseText);
                var output = "";
                var div = document.getElementById('list');
                /* for (i in arrayOfItems) {
                    output += '<a href="' + arrayOfItems[i].url + arrayOfItems[i].id + '">' + arrayOfItems[i].display + '</a><br>';
                }
                document.getElementById("list").innerHTML = output; */

                for (var i = 0; i < arrayOfItems.length; i++) {
                    div.innerHTML = div.innerHTML + "<p class='inner' id="+i+">"+ arrayOfItems[i].url + "</p>" + "<br>";
                }
            }
        };
        request.open("GET", url);
        request.send();
    };
</script>

</html>